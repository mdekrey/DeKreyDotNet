---
import Layout from '@/components/layout.astro';
import { toSummary } from '@/articles/summary';
import IntroBlock from '@/components/intro-block.astro';
import { getArticlesPage } from '@/articles/pages';
import { BlogPostList } from '@/articles/blog-post-list';

const pageInfo = await getArticlesPage(1);

const posts = pageInfo?.articles.map(toSummary) ?? [];
const pageCount = pageInfo?.totalPageCount ?? 0;
---

<Layout title="Home">
	<IntroBlock slot="no-scroll-header" />

	<BlogPostList posts={posts} page={1} pageCount={pageCount} />
</Layout>
